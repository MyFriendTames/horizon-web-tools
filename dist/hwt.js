!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.HWT=t():e.HWT=t()}(self,(()=>(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{elements:()=>n,files:()=>r,objects:()=>o});var r={};e.r(r),e.d(r,{currentPath:()=>j,getBaseName:()=>b,getFileName:()=>g,getParentDirectory:()=>m,loadScript:()=>E,loadStylesheet:()=>v,readFile:()=>P});var n={};e.r(n),e.d(n,{ElementGraph:()=>$,createElement:()=>y,graphIDAttributeName:()=>A,isElement:()=>u,mergeStyle:()=>h});var o={};e.r(o),e.d(o,{deleteChangeListener:()=>s,deleteProperty:()=>d,getProperty:()=>p,isObject:()=>l,listenerWrapperName:()=>i,merge:()=>a,setChangeListener:()=>c,setProperty:()=>f});const i="__HWT__change-listeners__",c=(e,t,r)=>{l(e)&&(null==e[i]||e.propertyIsEnumerable(i)||"object"!=typeof e[i]&&!Array.isArray(e[i]))&&Object.defineProperty(e,i,{value:{}}),"function"==typeof r&&(e[i][t]=r)},s=(e,t)=>delete e?.[i]?.[t],l=e=>"object"==typeof e&&null!==e,a=(e,t)=>{const r=(e,n)=>{for(const o in e)null!=e[o]&&"object"==typeof e[o]?(t[o]=Array.isArray(e[o])?[]:{},r(e[o],[...n,o])):f(t,[...n,o].join("."),e[o])};return l(t)&&l(e)&&r(e,""),t},p=(e,t)=>"string"==typeof t&&t.split(".").reduce(((e,t)=>e?.[t]),e),f=(e,t,r,n=[])=>!!e&&t.split(".").forEach(((t,o,c)=>{const s=e,l=e[i];if("object"==typeof l&&n.splice(0,0,((e,t)=>Object.values(l).forEach((r=>"function"==typeof r&&r(s,c.slice(o).join("."),e,t,c.slice(0,o).join(".")))))),o<c.length-1)null!=e[t]&&"object"==typeof e[t]||(/^\d+$/.test(c[o+1])&&!Array.isArray(e[t])?e[t]=[]:e[t]={}),e=e[t];else{const o=e[t],i="function"==typeof r?r(o):r;e[t]=i,n.forEach((e=>e(o,i)))}})),d=(e,t,r=[])=>!!e&&t.split(".").every(((t,n,o)=>{const c=e,s=e[i];if("object"==typeof s&&r.splice(0,0,((e,t)=>Object.values(s).forEach((r=>"function"==typeof r&&r(c,o.slice(n).join("."),e,t,o.slice(0,n).join(".")))))),n<o.length-1){if(null==e[t]||"object"!=typeof e[t])return!1;e=e[t]}else{const n=e[t];delete e[t],r.forEach((e=>e(n,void 0)))}})),u=e=>e instanceof Element,y=(e,{innerHTML:t,children:r,listeners:n,initialize:o,style:i,...c})=>{const s=document.createElement(e);h(s,i),"string"==typeof t&&(s.innerHTML=t),Array.isArray(r)&&s.append(...r.filter((e=>!!e)));for(const e in n&&"object"==typeof n?n:{})"function"==typeof n[e]?s.addEventListener(e,n[e]):"function"==typeof n[e]?.listener&&s.addEventListener(e,n[e].listener,n[e].useCapture);return"object"==typeof c&&a(c,s),"function"==typeof o&&o(s),s},h=(e,t)=>{if(u(e)&&l(t))for(const r in t)t[r]&&e.style.setProperty(r,t[r]);return e},g=e=>"string"==typeof e?e.substring(e.search(/[^\/\\]+$/)):"",b=e=>g(e).replace(/\.[^.]+$/,""),m=e=>"string"==typeof e?e.replace(/(\\|\/)?([^\\\/]+)?$/g,""):"";function j(e=""){return`${m(document?.currentScript?.src)}/${e?.replace(/^(\\|\/)+/g,"")||""}`}const E=(e,t)=>new Promise(((r,n)=>document.head.append(y("script",{src:e,constructor:e=>{e.onload=()=>r(e),e.onerror=e=>n(e)},...t})))),v=(e,t)=>new Promise(((r,n)=>document.head.append(y("link",{href:e,rel:"stylesheet",type:"text/css",constructor:e=>{e.onload=()=>r(e),e.onerror=e=>n(e)},...t})))),P=(e,t="readAsText",r=!1)=>new Promise(((...n)=>{try{const o=new FileReader;o.onloadend=({target:e})=>n(e.result),o.onabort=()=>n[!!r](null),o.onerror=()=>n[!!r](null),o[t](e)}catch{n[!!r](null)}})),A="data-hwt-graph-index";function $(e){if(!u(e))throw new Error("Not an HTMLElement");{this.root=e,this.graph=[];const t=(e,r,n)=>{for(const o of r){o.setAttribute(A,`${n?.concat(".")||""}${e.length}`);const r={graph:this,element:o,children:[]};e.push(r),r.children=t(r.children,o.children,`${n?.concat(".")||""}${e.length}`)}};this.appendTo=function(e,...r){const n=e.getAttribute(A),o=p(this.graph,n)?.children;t(o,r,n.replace(/\.?\d+$/))},t(this.graph,e.children)}}return t})()));